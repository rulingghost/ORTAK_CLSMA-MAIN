{% extends "base.html" %} {% load static %} {% block css_files %}
<!-- <link rel="stylesheet" type="text/css" href="{% static 'projects_style.css' %}"/> -->
<link rel="stylesheet" href="{% static 'details_projects.css' %}" />
<link rel="stylesheet" href="{% static 'center.css' %}" />
<link rel="stylesheet" href="{% static 'all_style.css' %}" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
<link  rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
<link rel="stylesheet" href="{% static 'sec-inputs.css' %}" />


<!-- garanti container -->
<style>
  .garanti-container{
    position: absolute;
    width: 100%;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 12314234213123;
  }
  .center2{
    position: absolute;
    left: 57%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
</style>
<!-- dosya yükleme -->
<style>
  #paying-firma-add-btn{
    padding: 0 5px;
    border: 1px solid rgba(0, 0, 0, 0.5);
    border-radius: 5px;
    font-size: 15px;
  }
  input[type="file"] {
    cursor: pointer !important;
    font: 300 14px sans-serif;
    color:#9e9e9e;
    width: 0px !important;
  }
  input[type="file"]::-webkit-file-upload-button
  {
    font: 300 14px  sans-serif;
    background: linear-gradient(135deg, #71b7e6, #191970);
    border: 0;
    padding: 12px 25px;
    cursor: pointer;
    color: #fff;
    text-transform: uppercase;
  }
  
  input[type="file"]::-ms-browse {
    font: 300 14px 'Roboto', sans-serif;
    background: linear-gradient(135deg, #71b7e6, #191970);
    border: 0;
    padding: 12px 25px;
    cursor: pointer;
    color: #fff;
    text-transform: uppercase;
  }
  .inputfile {
    width: 0.1px;
    height: 0.1px;
    opacity: 0;
    overflow: hidden;
    position: absolute;
    z-index: -1;
}

.inputfile + label {
    width: 80%;
    height: 60%;
    font-size: 16px;
    font-weight: 600;
    text-overflow: ellipsis;
    white-space: nowrap;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    padding: 5px 10px;
    border-radius: 5px;
}



.inputfile:focus + label,
.inputfile.has-focus + label {
    outline: 1px dotted #000;
    outline: -webkit-focus-ring-color auto 5px;
}

.inputfile + label svg {
    width: 1em;
    height: 1em;
    vertical-align: middle;
    fill: currentColor;
    margin-top: -0.25em;
    margin-right: 0.25em;
}


.inputfile-1 + label {
    color: #f1e5e6;
    background: linear-gradient(135deg, #71b7e6, #191970);
}
.inputfile-2 + label {
    color: #f1e5e6;
    background: linear-gradient(135deg, #71b7e6, #191970);
}
</style>

{% endblock %} {% block title %} Fail Edit {% endblock %} {% block content %}
<div class="body-div">
  {% include 'partials/_left_nav_bar.html' %}
  <div class="right-menu">
    <div class="nav-bar">
      <div class="nav-span">
        <div class="backBtn">
          <a href="{% url 'operation_care' %}">
            <button id="backBtn" class="button-project">
              <i class="fa-solid fa-arrow-left"></i>
            </button>
          </a>
          <span> </span>
        </div>
        <span></span>
      </div>
    </div>

    <div class="center ariza-container">
      <div class="container projeBaslatContainer">
        <div class="title">Arıza Güncelle</div>
        <form id="my-form" action="{% url 'fail_edit' fail_id=fail.id %}" method="post">
          {% csrf_token %}
          <input type="hidden" name="form_type" value="form" />

          <div class="user-details">

            <div class="input-box" id="ProjectName_ExpensesInput">
                <span  class="details">İşletme Bakım *</span>
                <div class="dropdown-container">
                  <input value="{{fail.Fail_Operation_Care_Copy}}" autocomplete= 'off' type="text" id="id_Fail_Operation_Care_Copy" name="Fail_Operation_Care_Copy" class="myInput" placeholder="İşletme Bakım Seçiniz" data-dropdown="dropdown1">
                 
                <div id="dropdown1" class="dropdown-content">

                      {% for x in operation_cares %}
                          <span value="{{x.id}}" class="dropdown-item">{{x.Operation_Care_Company}}</span>
                      {% endfor %}
                </div>
              </div>
              </div>

            <div class="input-box" id="ProjectNameInput">
              <span id="proje_adi_span" class="details">Santral İsmi</span>
              <input value="{{fail.Fail_Central_Name}}" type="text" name="Fail_Central_Name" maxlength="63" placeholder="Santral İsmi Giriniz" id="id_Fail_Central_Name" autocomplete="off">
            </div>
            <div class="input-box" id="ProjectCodeInput" >
              <span id="proje_kodu_span" class="details">Bilgi Verilen Kişi</span>
              <input value="{{fail.Fail_Information_Person}}" type="text" placeholder="Bilgi Verilen Kişi Giriniz" name="Fail_Information_Person" id="id_Fail_Information_Person">
            </div>           
           
            <div class="input-box">
              <span class="details">Arıza Tespit Tarihi</span>
              <input value="{{ fail.Fail_Detection_Date|date:'Y-m-d' }}" type="date" placeholder="Arıza Tespit Tarihi Giriniz" name="Fail_Detection_Date" id="id_Fail_Detection_Date">
            </div>
            <div class="input-box">
              <span class="details">Garanti Kapsam Durumu</span>
                <select name="Fail_Guaranteed" id="id_Fail_Guaranteed">
                    {% if fail.Fail_Guaranteed == "Evet" %}
                    <option value="Arazi" selected>Evet</option>
                    {% else %}
                    <option value="Arazi">Evet</option>
                    {% endif %}

                    {% if fail.Fail_Guaranteed == "Hayır" %}
                    <option value="Çatı" selected>Hayır</option>
                    {% else %}
                    <option value="Çatı">Hayır</option>
                    {% endif %}
                    </select>            
            </div>
            <div class="input-box medium">
              <span class="details">Arıza Ayrıntısı</span>
              <input value="{{fail.Fail_Detail}}" type="text" placeholder="Arıza Tespit Tarihi Giriniz" name="Fail_Detail" id="id_Fail_Detail">

            </div>
            
            
          </div>
          <div class="button">
            <input id="project-create-btn" type="submit" value="Arıza Güncelle" />
          </div>
        </form>
      </div>

     
    </div>
    
  </div>
  <div style="display: none;" class="center garanti-container">
    <div class="container center2">
      <div class="title">Arıza Bakım Faturası</div>
      <form id="my-form" method="post">
        {% csrf_token %}
        <input type="hidden" name="form_type" value="form" />

        <div class="user-details">

          

          <div class="input-box" id="ProjectNameInput">
            <span  class="details">Santral İsmi</span>
            <input autocomplete= 'off' type="text" name="ProjectName" maxlength="63" placeholder="Santral İsmi Giriniz" id="id_ProjectName" autocomplete="off">
          </div>
          <div
            class="input-box" 
            id="ProjectCodeInput"
          >
            <span  class="details">Yapılan İşlem</span>
            <input type="text" placeholder="Yapılan İşlemi Giriniz">
          </div>           
         
          <div class="input-box">
            <span class="details">Tarih</span>
            <input type="text" placeholder="Tarih Giriniz">
          </div>
          <div class="input-box">
            <span class="details">Fatura Belge</span>
            <input type="file" name="Offer_File_Card" id="fatura_file" class="inputfile inputfile-1" />
              <label for="fatura_file">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> 
                <span id="fatura_file_span">Fatura Belgesi Seçin</span></label>
          </div>
          <div class="input-box large">
            <span class="details">Açıklama</span>
            <input class="coc-input" type="text" name="AC_Power" id="id_AC_Power" step="0.0001" autocomplete="off" placeholder="Açıklama Giriniz"/>
          </div>
          
          
        </div>
        <div class="button">
          <input id="project-create-btn" type="submit" value="Arıza Bakım Faturası Ekle" />
        </div>
      </form>
    </div>

   
  </div>
  {% endblock %}
  {% block js_files %}
  <script src="{% static 'functions.js' %}"></script> 
  <script src="{% static 'fault_notification.js' %}"></script> 



  {% endblock %} 
</div>
